{
  "swagger": "2.0",
  "basePath": "/api/v2",
  "paths": {
    "/allowlists/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AllowListGet"
              }
            }
          }
        },
        "description": "List allow-listing policies for an organization.",
        "operationId": "get_allow_list_get",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Allowlists"
        ]
      }
    },
    "/allowlists/{org}/{env_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Allow an artifact for an environment.",
        "operationId": "put_allow_list_put",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/AllowlistPut"
            }
          }
        ],
        "tags": [
          "Allowlists"
        ]
      }
    },
    "/approvals/{org}/{flow_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "\"OK\""
          }
        },
        "description": "Create approval for a flow artifact.",
        "operationId": "post_approval_list",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/CreateApproval"
            }
          }
        ],
        "tags": [
          "Approvals"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GetApprovals"
              }
            }
          }
        },
        "description": "List all approvals for a flow.",
        "operationId": "get_approval_list",
        "parameters": [
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Approvals"
        ]
      }
    },
    "/approvals/{org}/{flow_name}/artifact-commit/{env_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ApprovalGetCommitOfRunningArtifact"
            }
          }
        },
        "description": "Get the git commit of a running artifact in a specific environment that comes from a given flow",
        "operationId": "get_approval_get_commit_of_running_artifact",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Approvals"
        ]
      }
    },
    "/approvals/{org}/{flow_name}/{approval_number}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "approval_number",
          "in": "path",
          "required": true,
          "type": "integer"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/GetApproval"
            }
          }
        },
        "description": "Get an approval.",
        "operationId": "get_approval_get",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Approvals"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "\"OK\""
          }
        },
        "description": "Create an artifact for organization.",
        "operationId": "post_artifact_list",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ArtifactCreate"
            }
          }
        ],
        "tags": [
          "Artifacts"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ArtifactsList"
              }
            }
          }
        },
        "description": "List artifacts in a flow.",
        "operationId": "get_artifact_list",
        "parameters": [
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/commit_sha/{commit_sha}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "commit_sha",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/Artifact"
            }
          }
        },
        "description": "Get artifact by commit sha.",
        "operationId": "get_artifact_get_by_commit_sha",
        "parameters": [
          {
            "in": "query",
            "description": "The name of the trail the artifact was reported to",
            "name": "trail",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/fingerprint/{fingerprint}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/Artifact"
            }
          }
        },
        "description": "Get artifact by fingerprint.",
        "operationId": "get_artifact_get_by_fingerprint",
        "parameters": [
          {
            "in": "query",
            "description": "The name of the trail the artifact was reported to",
            "name": "trail",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/approvals": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ArtifactApprovalsGet"
              }
            }
          }
        },
        "description": "List approvals for an artifact.",
        "operationId": "get_artifact_approval_list",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/audit_package": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "headers": {
              "Content-encoding": {
                "description": "gzip",
                "type": "string"
              },
              "content-type": {
                "description": "application/octet-stream",
                "type": "string"
              }
            }
          }
        },
        "description": "Get the audit package for an artifact.",
        "operationId": "get_artifact_audit_package",
        "produces": [
          "application/octet-stream"
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/backfill_commits": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "410": {
            "description": "\"Gone\""
          }
        },
        "description": "Backfill commits for an artifact.",
        "operationId": "put_artifact_commits_backfill",
        "deprecated": true,
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/commits": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "410": {
            "description": "\"Gone\""
          }
        },
        "description": "Get git commits for an artifact.",
        "operationId": "get_artifact_commits",
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/deployments": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ArtifactDeploymentGet"
              }
            }
          }
        },
        "description": "List deployments for an artifact.",
        "operationId": "get_artifact_deployment_list",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/latest_commit": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/ArtifactLatestCommitGet"
            }
          }
        },
        "description": "Get the git commit of the latest artifact.",
        "operationId": "get_artifact_commit_latest",
        "parameters": [
          {
            "in": "query",
            "description": "The branch to get the commit from",
            "name": "branch",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/artifacts/{org}/{flow_name}/{fingerprint}/previous_commit": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "410": {
            "description": "\"Gone\""
          }
        },
        "description": "Get the git commit of the previous artifact.",
        "operationId": "get_artifact_commit_previous",
        "deprecated": true,
        "tags": [
          "Artifacts"
        ]
      }
    },
    "/attestations/{org}/{flow_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Raw list of attestations for a flow between two timestamps. Paged.",
        "operationId": "get_flow_attestation_list",
        "parameters": [
          {
            "in": "query",
            "description": "To timestamp filter.\nExample: ?to_timestamp=1675167540",
            "name": "to_timestamp",
            "type": "string"
          },
          {
            "in": "query",
            "description": "From timestamp filter.\nExample: ?from_timestamp=1675167540",
            "name": "from_timestamp",
            "type": "string"
          },
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          }
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/artifact/{fingerprint}/{attestation_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "fingerprint",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "attestation_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Get an attestation for an artifact.",
        "operationId": "get_artifact_attestation",
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/custom": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add Custom type attestation to a trail with an optional attachment file.",
        "operationId": "post_custom_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"custom-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a Junit attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"type_name\": \"my-custom-type\",\n    \"attestation_data\": {\n        \"name\": \"Jon Smith\",\n        \"age\": 23\n    }\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/generic": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add Generic attestation to a trail with an optional attachment file.",
        "operationId": "post_generic_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"generic-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a generic attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"is_compliant\": true\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/jira": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add Jira attestation to a trail with an optional attachment file.",
        "operationId": "post_jira_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"jira-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a Jira attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"jira_results\": [\n        {\n            \"issue_id\": \"Var-123\",\n            \"issue_url\": \"https://jira.com/var-123\",\n            \"issue_exists\": true\n        }\n    ]\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/junit": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add Junit attestation to a trail with an optional attachment file.",
        "operationId": "post_j_unit_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"junit-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a Junit attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"junit_results\": [\n        {\n            \"name\": \"test suite\",\n            \"failures\": 0,\n            \"errors\": 0,\n            \"skipped\": 1,\n            \"total\": 5,\n            \"duration\": 2.5\n        }\n    ]\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/pull_request": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add Pull-Request attestation to a trail with an optional attachment file.",
        "operationId": "post_pull_request_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"pull-request-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a Pull request attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"git_provider\": \"github\",\n    \"pull_requests\": [\n        {\n            \"url\": \"https://github.com/pr/123\",\n            \"state\": \"merged\",\n            \"merge_commit\": \"649a645f2c138b7c626f2d9a33b4f3baaad1e213\",\n            \"approvers\": []\n        }\n    ]\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/snyk": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add Snyk attestation to a trail with an optional attachment file.",
        "operationId": "post_snyk_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"snyk-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a Snyk attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"snyk_results\": {\n        \"schema_version\": 1,\n        \"tool\": {\n            \"name\": \"snyk-code\",\n            \"version\": \"1\"\n        },\n        \"results\": [\n            {\n                \"low_count\": 0,\n                \"medium_count\": 0,\n                \"high_count\": 0,\n                \"low\": [],\n                \"medium\": [],\n                \"high\": []\n            }\n        ]\n    }\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/sonar": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Add SonarCloud/Qube attestation to a trail with an optional attachment file.",
        "operationId": "post_sonar_trail_attestation",
        "parameters": [
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "attachment_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"attestation_name\": \"sonar-example\",\n    \"origin_url\": \"https://some-ci.com/build/1234\",\n    \"description\": \"a Sonar attestation example\",\n    \"artifact_fingerprint\": \"3c8bf32947d5df1c94f3ab84de7575731bb3c81648b093f46d2d17b774922ee8\",\n    \"target_artifacts\": [\n        \"backend\"\n    ],\n    \"git_commit_info\": {\n        \"sha1\": \"69219eea24184522910d4a1854b1f52f11ddb6de\",\n        \"message\": \"sample git commit message\",\n        \"author\": \"John Smith <john@smith.com>\",\n        \"branch\": \"main\",\n        \"timestamp\": 1724055461.0,\n        \"url\": \"https://github.com/repo/commit/69219eea24184522910d4a1854b1f52f11ddb6de\"\n    },\n    \"external_urls\": {\n        \"label\": {\n            \"href\": \"https://external-location.com/path\",\n            \"fingerprint\": \"960421eb617fc0ff3183cdc406f4bbc6340f10bc12ac2a83cb9a203dc3be3fc1\"\n        }\n    },\n    \"annotations\": {\n        \"annotation-1\": \"value\"\n    },\n    \"user_data\": {\n        \"key\": \"arbitrary JSON value\"\n    },\n    \"sonar_results\": {\n        \"analysedAt\": \"1724052982\",\n        \"revision\": \"649a645f2c138b7c626f2d9a33b4f3baaad1e213\",\n        \"project\": {\n            \"name\": \"\",\n            \"key\": \"xxx\",\n            \"url\": \"https://foo.com\"\n        },\n        \"qualityGate\": {\n            \"name\": \"gate-1\",\n            \"status\": \"OK\",\n            \"conditions\": [\n                {\n                    \"metric\": \"xx\",\n                    \"errorThreshold\": \"xx\",\n                    \"operator\": \"xx\",\n                    \"status\": \"OK\"\n                }\n            ]\n        }\n    }\n}",
            "name": "data_json"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Attestation"
        ]
      }
    },
    "/attestations/{org}/{flow_name}/trail/{trail_name}/{attestation_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "attestation_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Get an attestation for a trail.",
        "operationId": "get_trail_attestation",
        "tags": [
          "Attestation"
        ]
      }
    },
    "/custom-attestation-types/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Create a custom attestation type for an org.",
        "operationId": "post_custom_attestation_types",
        "parameters": [
          {
            "description": "custom type data",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"name\": \"my-attestation-type\",\n    \"description\": \"this is a custom type description text\",\n    \"evaluator\": {\n        \"content_type\": \"default\"\n    }\n}",
            "name": "data_json"
          },
          {
            "description": "attachment file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "type_schema"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Custom-attestation-types"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "List all custom attestation types for an org.",
        "operationId": "get_custom_attestation_types",
        "tags": [
          "Custom-attestation-types"
        ]
      }
    },
    "/custom-attestation-types/{org}/{custom_attestation_type_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "custom_attestation_type_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Get a custom attestation type.",
        "operationId": "get_custom_attestation_type_get",
        "parameters": [
          {
            "description": "attestation type version",
            "type": "string",
            "required": false,
            "name": "version",
            "in": "query"
          }
        ],
        "tags": [
          "Custom-attestation-types"
        ]
      }
    },
    "/custom-attestation-types/{org}/{custom_attestation_type_name}/archive": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "custom_attestation_type_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successful archive of custom attestation type"
          }
        },
        "description": "Archive a custom attestation type.",
        "operationId": "put_custom_attestation_type_archive",
        "tags": [
          "Custom-attestation-types"
        ]
      }
    },
    "/deployments/{org}/{flow_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Deployment created."
          }
        },
        "description": "Create deployment for a flow.",
        "operationId": "post_deployment_list",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/CreateDeployment"
            }
          }
        ],
        "tags": [
          "Deployments"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Deployment"
              }
            }
          }
        },
        "description": "List deployments for a flow.",
        "operationId": "get_deployment_list",
        "parameters": [
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Deployments"
        ]
      }
    },
    "/deployments/{org}/{flow_name}/{deployment_number}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "deployment_number",
          "in": "path",
          "required": true,
          "type": "integer"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/Deployment"
            }
          }
        },
        "description": "Get a deployment.",
        "operationId": "get_deployment",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Deployments"
        ]
      }
    },
    "/env-diff/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/EnvironmentDiffGetModel"
            }
          }
        },
        "description": "Diff between two snapshots.",
        "operationId": "get_environment_diff",
        "parameters": [
          {
            "in": "query",
            "description": "Expression to specify the snapshot 1 for comparison.\nMust contain environment name.\nAdd '#N' to specify exact snapshot number N.\nAdd '~N' to get N-th behind the latest snapshot.\nExamples: staging, staging#10, staging~2",
            "name": "snappish1",
            "type": "string"
          },
          {
            "in": "query",
            "description": "Expression to specify the snapshot 2 for comparison.\nMust contain environment name.\nAdd '#N' to specify exact snapshot number N.\n'Add '~N' to get N-th behind the latest snapshot.\nExamples: staging, staging#10, staging~2",
            "name": "snappish2",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Env-diff"
        ]
      }
    },
    "/environments/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "201": {
            "description": "Environment created successfully"
          },
          "200": {
            "description": "Environment updated successfully"
          }
        },
        "description": "Create or update an environment for an organization.",
        "operationId": "put_environment_list",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/CreateEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GetEnvironment"
              }
            }
          }
        },
        "description": "List environments of an organization.",
        "operationId": "get_environment_list",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/GetEnvironment"
            }
          }
        },
        "description": "Get an environment for an organization.",
        "operationId": "get_environment",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/archive": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successful environment archive"
          }
        },
        "description": "Archive an environment",
        "operationId": "put_environment_archive",
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/auditlog": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Successful audit log retrieval",
            "headers": {
              "content-type": {
                "description": "text/csv; charset=utf-8",
                "type": "string"
              }
            }
          }
        },
        "description": "Get audit log for an environment.",
        "operationId": "get_environment_audit_log",
        "parameters": [
          {
            "in": "query",
            "description": "To timestamp filter.\nExample: ?to_timestamp=1675167540",
            "name": "to_timestamp",
            "type": "string"
          },
          {
            "in": "query",
            "description": "From timestamp filter.\nExample: ?from_timestamp=1675167540",
            "name": "from_timestamp",
            "type": "string"
          },
          {
            "in": "query",
            "description": "Event types filter.\nCan be one of started, exited, changed.\nExample: ?event_types=started,exited",
            "name": "event_types",
            "type": "string"
          },
          {
            "in": "query",
            "description": "Flow names filter as comma separated list.\nUse 'no provenance' to include artifacts without provenance.\nExamples: ?flow_names=server,web,no provenance",
            "name": "flow_names",
            "type": "string"
          }
        ],
        "produces": [
          "text/csv"
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/deployment_frequency": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ]
    },
    "/environments/{org}/{env_name}/events": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/EnvironmentEventsLog"
              }
            }
          }
        },
        "description": "Get events log for an environment.",
        "operationId": "get_environment_events_log",
        "parameters": [
          {
            "in": "query",
            "description": "Return results in reverse order. Expected values: True or False. Defaults to False.",
            "name": "reverse",
            "type": "string"
          },
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "Expression to specify the interval of snapshots to query.\nMust be two snapshot expressions separated by '..'\nie: '5..10', or '~5..NOW",
            "name": "interval",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/join": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successfully added environment"
          }
        },
        "description": "Join the given physical environment to this Logical environment.\nJoin the given physical environment to this Logical environment.",
        "operationId": "put_environment_join_physical_to_logical",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/AddPhysicalToLogicalEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/policies": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "delete": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Detach a Policy from an environment.",
        "operationId": "delete_environment_policy_attachment",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/AttachPolicies"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      },
      "post": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Attach a Policy to an environment.",
        "operationId": "post_environment_policy_attachment",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/AttachPolicies"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/rename": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successful environment rename"
          }
        },
        "description": "Rename an environment.\nThe environment will remain available under its old name until that name is taken by another environment.",
        "operationId": "put_environment_rename",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/RenameEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/ECS": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "Save reported data for a ECS environment.",
        "operationId": "put_environment_report_ecs",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportECSEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/K8S": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "Save reported data for a K8S environment.",
        "operationId": "put_environment_report_k8_s",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportK8SEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/S3": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "Save reported data for a S3 environment.",
        "operationId": "put_environment_report_s3",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportS3Environment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/azure-apps": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "[beta] Save reported data for a Azure Web and Function apps environment.",
        "operationId": "put_environment_report_azure_web_app",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportAzureWebAppEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/docker": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "Save reported data for a docker environment.",
        "operationId": "put_environment_report_docker",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportDockerEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/lambda": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "Save reported data for a lambda environment.",
        "operationId": "put_environment_report_lambda",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportLambdaEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/environments/{org}/{env_name}/report/server": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "400": {
            "description": "Invalid report data"
          },
          "200": {
            "description": "Successful report save"
          }
        },
        "description": "Save reported data for a server environment.",
        "operationId": "put_environment_report_server",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReportServerEnvironment"
            }
          }
        ],
        "tags": [
          "Environments"
        ]
      }
    },
    "/evidence/{org}/artifact/{flow_name}/generic": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add Generic evidence to an artifact with an optional evidence file.",
        "operationId": "post_artifact_generic_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"artifact_fingerprint\": \"string\",\n    \"name\": \"string\",\n    \"description\": \"string\",\n    \"build_url\": \"string\",\n    \"is_compliant\": false,\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/artifact/{flow_name}/junit": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Add JUnit evidence to an artifact with an optional evidence file.",
        "operationId": "post_artifact_j_unit_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"artifact_fingerprint\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"junit_results\": [\n        {\n            \"name\": \"string\",\n            \"failures\": 0,\n            \"errors\": 0,\n            \"skipped\": 0,\n            \"total\": 0,\n            \"duration\": 0.0,\n            \"timestamp\": 0.0\n        }\n    ],\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/artifact/{flow_name}/pull_request": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add Pull-Request evidence to an artifact with an optional evidence file.",
        "operationId": "post_artifact_pull_request_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"artifact_fingerprint\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"git_provider\": \"string\",\n    \"pull_requests\": [\n        {\n            \"merge_commit\": \"string\",\n            \"url\": \"string\",\n            \"state\": \"string\",\n            \"approvers\": [\n                \"string\"\n            ]\n        }\n    ],\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          }
        ],
        "deprecated": true,
        "consumes": [
          "application/x-www-form-urlencoded",
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/artifact/{flow_name}/snyk": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Add Snyk evidence to an artifact with an optional evidence file.",
        "operationId": "post_artifact_snyk_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"artifact_fingerprint\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"snyk_results\": {\n        \"ok\": false\n    },\n    \"processed_snyk_results\": {\n        \"schema_version\": 0.0,\n        \"tool\": {\n            \"name\": \"string\",\n            \"version\": \"string\"\n        },\n        \"results\": [\n            {\n                \"high_count\": 0.0,\n                \"medium_count\": 0.0,\n                \"low_count\": 0.0,\n                \"high\": [],\n                \"medium\": [],\n                \"low\": []\n            }\n        ]\n    },\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/commit/generic": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add Generic evidence to a commit with an optional evidence file.",
        "operationId": "post_commit_generic_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"commit_sha\": \"string\",\n    \"name\": \"string\",\n    \"description\": \"string\",\n    \"build_url\": \"string\",\n    \"flows\": [\n        \"string\"\n    ],\n    \"is_compliant\": false,\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/commit/jira": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add Jira evidence to a commit with an optional evidence file.",
        "operationId": "post_commit_jira_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"commit_sha\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"flows\": [\n        \"string\"\n    ],\n    \"jira_results\": [\n        {\n            \"issue_id\": \"string\",\n            \"issue_url\": \"string\",\n            \"issue_exists\": false\n        }\n    ],\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/commit/junit": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add JUnit evidence to a commit with an optional evidence file.",
        "operationId": "post_commit_j_unit_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"commit_sha\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"flows\": [\n        \"string\"\n    ],\n    \"junit_results\": [\n        {\n            \"name\": \"string\",\n            \"failures\": 0,\n            \"errors\": 0,\n            \"skipped\": 0,\n            \"total\": 0,\n            \"duration\": 0.0,\n            \"timestamp\": 0.0\n        }\n    ],\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/commit/pull_request": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add Pull-Request evidence to a commit with an optional evidence file.",
        "operationId": "post_commit_pull_request_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"commit_sha\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"flows\": [\n        \"string\"\n    ],\n    \"git_provider\": \"string\",\n    \"pull_requests\": [\n        {\n            \"merge_commit\": \"string\",\n            \"url\": \"string\",\n            \"state\": \"string\",\n            \"approvers\": [\n                \"string\"\n            ]\n        }\n    ],\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          }
        ],
        "deprecated": true,
        "consumes": [
          "application/x-www-form-urlencoded",
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/evidence/{org}/commit/snyk": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "OK"
          }
        },
        "description": "Add Snyk evidence to a commit with an optional evidence file.",
        "operationId": "post_commit_snyk_evidence",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"commit_sha\": \"string\",\n    \"name\": \"string\",\n    \"build_url\": \"string\",\n    \"flows\": [\n        \"string\"\n    ],\n    \"snyk_results\": {\n        \"ok\": false\n    },\n    \"processed_snyk_results\": {\n        \"schema_version\": 0.0,\n        \"tool\": {\n            \"name\": \"string\",\n            \"version\": \"string\"\n        },\n        \"results\": [\n            {\n                \"high_count\": 0.0,\n                \"medium_count\": 0.0,\n                \"low_count\": 0.0,\n                \"high\": [],\n                \"medium\": [],\n                \"low\": []\n            }\n        ]\n    },\n    \"evidence_url\": \"string\",\n    \"evidence_fingerprint\": \"string\",\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "evidence json",
            "name": "evidence_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "evidence file",
            "name": "evidence_file"
          }
        ],
        "deprecated": true,
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Evidence"
        ]
      }
    },
    "/flows/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "201": {
            "description": "Successful flow creation"
          },
          "200": {
            "description": "Successful flow update"
          }
        },
        "description": "Create or update a flow for an organization.",
        "operationId": "put_flow_list",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/FlowDeclare"
            }
          }
        ],
        "deprecated": true,
        "tags": [
          "Flows"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Flow"
              }
            }
          }
        },
        "description": "List flows for an organization.",
        "operationId": "get_flow_list",
        "parameters": [
          {
            "in": "query",
            "description": "Return flows that contain the given string in their name. Only alphanumeric characters and '-' are allowed.",
            "name": "search_by_name",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Flows"
        ]
      }
    },
    "/flows/{org}/template_file": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "201": {
            "description": "Successful flow creation"
          },
          "200": {
            "description": "Successful flow update"
          }
        },
        "description": "Create or update a flow for an organization.",
        "operationId": "put_flow_list_with_template_file",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"name\": \"string\",\n    \"description\": \"string\",\n    \"visibility\": \"string\"\n}",
            "in": "formData",
            "description": "data json",
            "name": "data_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "template file",
            "name": "template_file"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Flows"
        ]
      }
    },
    "/flows/{org}/{flow_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/FlowGet"
            }
          }
        },
        "description": "Get a flow for an organization.",
        "operationId": "get_flow",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Flows"
        ]
      }
    },
    "/flows/{org}/{flow_name}/archive": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successful flow archive"
          }
        },
        "description": "Archive a flow.",
        "operationId": "put_flow_archive",
        "tags": [
          "Flows"
        ]
      }
    },
    "/flows/{org}/{flow_name}/rename": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successful flow rename"
          }
        },
        "description": "Rename a flow.\nThe flow will remain available under its old name until that name is taken by another flow.",
        "operationId": "put_flow_rename",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/RenameFlow"
            }
          }
        ],
        "tags": [
          "Flows"
        ]
      }
    },
    "/organizations/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/OrgGetModel"
            }
          }
        },
        "description": "Get a specific org.",
        "operationId": "get_organization",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Organizations"
        ]
      }
    },
    "/organizations/{org}/environments_notifications": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "post": {
        "responses": {
          "201": {
            "description": "Successfully created environments notification."
          }
        },
        "description": "Create an environments-notification for an org.",
        "operationId": "post_environments_notifications",
        "deprecated": true,
        "tags": [
          "Organizations"
        ]
      },
      "put": {
        "responses": {
          "200": {
            "description": "Successfully updated environments notification."
          },
          "201": {
            "description": "Successfully created environments notification."
          }
        },
        "description": "Create or Update an environments-notification for an org.",
        "operationId": "put_environments_notifications",
        "tags": [
          "Organizations"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OrgEnvActionsModel"
              }
            }
          }
        },
        "description": "List environments-notifications for an org.",
        "operationId": "get_environments_notifications",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Organizations"
        ]
      }
    },
    "/organizations/{org}/environments_notifications/{notification_number}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "notification_number",
          "in": "path",
          "required": true,
          "type": "integer"
        }
      ],
      "delete": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "delete a specific environments-notification for an org.",
        "operationId": "delete_env_notification",
        "tags": [
          "Organizations"
        ]
      },
      "put": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "update a specific environments-notification for an org.",
        "operationId": "put_env_notification",
        "tags": [
          "Organizations"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/OrgEnvActionsModel"
            }
          }
        },
        "description": "get a specific environments-notification for an org.",
        "operationId": "get_env_notification",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Organizations"
        ]
      }
    },
    "/organizations/{org}/experimental_features": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successfully updated state of experimental features."
          }
        },
        "description": "Enable/Disable beta features for an org.",
        "operationId": "put_organization_update",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/OrganizationUpdate"
            }
          }
        ],
        "tags": [
          "Organizations"
        ]
      }
    },
    "/policies/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Update Success"
          },
          "201": {
            "description": "Creation Success"
          },
          "400": {
            "description": "Validation Error"
          }
        },
        "description": "Create or update a Policy in an organization.",
        "operationId": "put_policy_list",
        "parameters": [
          {
            "description": "policy file",
            "in": "formData",
            "type": "file",
            "required": false,
            "name": "policy_file"
          },
          {
            "description": "payload",
            "in": "formData",
            "type": "object",
            "required": true,
            "example": "{\n    \"name\": \"production-policy\",\n    \"description\": \"some description\",\n    \"comment\": \"describe what you changed\"\n}",
            "name": "payload"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Policies"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "List Policies in an organization.",
        "operationId": "get_policy_list",
        "tags": [
          "Policies"
        ]
      }
    },
    "/policies/{org}/{policy_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "policy_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "200": {
            "description": "Success"
          }
        },
        "description": "Get a Policy in an organization.",
        "operationId": "get_policy",
        "tags": [
          "Policies"
        ]
      }
    },
    "/search/{org}/sha/{search_value}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "search_value",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/SearchResultGetResponse"
            }
          },
          "404": {
            "description": "Search results are too ambiguous. For example: no matches for the provided value."
          }
        },
        "description": "Get artifacts that match fingerprint or commit-sha.",
        "operationId": "get_search",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Search"
        ]
      }
    },
    "/snapshots/{org}/{env_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/SnapshotsListGet"
              }
            }
          }
        },
        "description": "Get paginated list of snapshots for an environment.",
        "operationId": "get_snapshots_list",
        "parameters": [
          {
            "in": "query",
            "description": "Return results in reverse order. Expected values: True or False. Defaults to False.",
            "name": "reverse",
            "type": "string"
          },
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "Expression to specify the interval of snapshots to query.\nMust be two snapshot expressions separated by '..'\nie: '5..10', or '~5..NOW",
            "name": "interval",
            "type": "string"
          },
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Snapshots"
        ]
      }
    },
    "/snapshots/{org}/{env_name}/{snapshot_expression}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "env_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "snapshot_expression",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success",
            "schema": {
              "$ref": "#/definitions/SnapshotGet"
            }
          }
        },
        "description": "Get a snapshot for an environment.",
        "operationId": "get_snapshot",
        "parameters": [
          {
            "name": "X-Fields",
            "in": "header",
            "type": "string",
            "format": "mask",
            "description": "An optional fields mask"
          }
        ],
        "tags": [
          "Snapshots"
        ]
      }
    },
    "/tags/{org}/{resource_type}/{resource_id}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "resource_type",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "resource_id",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "patch": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "operationId": "patch_tags",
        "parameters": [
          {
            "name": "payload",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "#/definitions/Tag"
            }
          }
        ],
        "tags": [
          "Tags"
        ]
      }
    },
    "/trails/{org}/{flow_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Add a Trail to a Flow.",
        "operationId": "put_trail_list",
        "parameters": [
          {
            "type": "object",
            "required": true,
            "example": "<br>{\n    \"name\": \"string\",\n    \"description\": \"string\",\n    \"git_commit_info\": {\n        \"sha1\": \"string\",\n        \"message\": \"string\",\n        \"author\": \"string\",\n        \"timestamp\": 0.0,\n        \"branch\": \"string\",\n        \"url\": \"string\"\n    },\n    \"origin_url\": \"string\",\n    \"external_urls\": {},\n    \"user_data\": {}\n}",
            "in": "formData",
            "description": "data json",
            "name": "data_json"
          },
          {
            "type": "file",
            "required": false,
            "in": "formData",
            "description": "template file",
            "name": "template_file"
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "tags": [
          "Trails"
        ]
      },
      "get": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "List Trails of a Flow.",
        "operationId": "get_trail_list",
        "parameters": [
          {
            "in": "query",
            "description": "How many results to return per page of response",
            "name": "per_page",
            "type": "string"
          },
          {
            "in": "query",
            "description": "The page number of response",
            "name": "page",
            "type": "string"
          }
        ],
        "tags": [
          "Trails"
        ]
      }
    },
    "/trails/{org}/{flow_name}/{trail_name}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "flow_name",
          "in": "path",
          "required": true,
          "type": "string"
        },
        {
          "name": "trail_name",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "Success"
          }
        },
        "description": "Get a Trail for a Flow in an organization.",
        "operationId": "get_trail",
        "tags": [
          "Trails"
        ]
      }
    },
    "/user/{org}": {
      "parameters": [
        {
          "name": "org",
          "in": "path",
          "required": true,
          "type": "string"
        }
      ],
      "put": {
        "responses": {
          "200": {
            "description": "Successfully updated user's default org."
          }
        },
        "description": "Set a default org for the current user.",
        "operationId": "put_user_default_org",
        "tags": [
          "User"
        ]
      }
    }
  },
  "info": {
    "title": "Kosli API Beta",
    "version": "2.0",
    "description": "\nThe API for communicating with Kosli\n\n# Authentication \n\nWhen making requests against Kosli API, you can authenticate your requests using a bearer token. \nSet the bearer token in the request Authorization header to a valid API key. \nAPI Keys can be personal or for service accounts. Check the [service accounts documentation](https://docs.kosli.com/getting_started/service-accounts/) for details. \n\n## Curl example\n\n```shell\ncurl -H \"Authorization: Bearer <<your-api-key>>\" https://app.kosli.com/api/v2/environments/<<your-org-name>>\n```\n"
  },
  "produces": [
    "application/json"
  ],
  "consumes": [
    "application/json"
  ],
  "securityDefinitions": {
    "bearerAuth": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Allowlists",
      "description": "AllowList API operations"
    },
    {
      "name": "Approvals",
      "description": "Approval API operations"
    },
    {
      "name": "Artifacts",
      "description": "Artifact API operations"
    },
    {
      "name": "Attestation",
      "description": "Attestation reporting API operations"
    },
    {
      "name": "Custom-attestation-types",
      "description": "API for custom attestation types"
    },
    {
      "name": "Deployments",
      "description": "Deployment API operations"
    },
    {
      "name": "Environments",
      "description": "Environment API operations"
    },
    {
      "name": "Env-diff",
      "description": "Environment diff API operations"
    },
    {
      "name": "Evidence",
      "description": "Evidence reporting API operations"
    },
    {
      "name": "Flows",
      "description": "Flow API operations"
    },
    {
      "name": "Organizations",
      "description": "Organization API operations"
    },
    {
      "name": "Search",
      "description": "Search API operations"
    },
    {
      "name": "Snapshots",
      "description": "Snapshots API operations"
    },
    {
      "name": "Trails",
      "description": "Trails API operations"
    },
    {
      "name": "Tags",
      "description": "Resource Tagging API"
    },
    {
      "name": "User",
      "description": "Current user API operations"
    },
    {
      "name": "Policies",
      "description": "Policies API operations"
    }
  ],
  "definitions": {
    "AllowListGet": {
      "required": [
        "artifact_name",
        "description",
        "environment_name",
        "fingerprint",
        "timestamp",
        "user_name"
      ],
      "properties": {
        "artifact_name": {
          "type": "string",
          "description": "the name of the artifact that is allowed",
          "example": "grafana/grafana:6.2.4"
        },
        "fingerprint": {
          "type": "string",
          "description": "the sha256 fingerprint of the artifact that is allowed",
          "example": "222ef0e34431258b74321d73458c73f05d851fa6b25158fa7becfff2759fc37e"
        },
        "environment_name": {
          "type": "string",
          "description": "the name of the environment for which the artifact is allowed",
          "example": "production"
        },
        "timestamp": {
          "type": "number",
          "description": "the timestamp when the artifact was allowed",
          "example": 1589395200.0
        },
        "user_name": {
          "type": "string",
          "description": "the name of the user who allowed the artifact",
          "example": "john.doe"
        },
        "description": {
          "type": "string",
          "description": "the reason for allow listing this artifact",
          "example": "Well-known open source public image"
        }
      },
      "type": "object"
    },
    "AllowlistPut": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifact_name",
        "artifact_fingerprint",
        "description"
      ],
      "properties": {
        "artifact_name": {
          "type": "string",
          "description": "The name of the artifact that is allowed"
        },
        "artifact_fingerprint": {
          "type": "string",
          "description": "The sha256 fingerprint of the artifact that is allowed",
          "pattern": "^[a-f0-9]{64}$"
        },
        "description": {
          "type": "string",
          "description": "The reason for allow listing this artifact"
        }
      }
    },
    "CreateApproval": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifact_fingerprint",
        "description",
        "src_commit_list"
      ],
      "properties": {
        "artifact_fingerprint": {
          "type": "string",
          "pattern": "^[a-f0-9]{64}$",
          "description": "The artifact to approve"
        },
        "description": {
          "type": "string",
          "description": "Description for the release"
        },
        "environment": {
          "type": "string",
          "description": "Environment the approval is valid for"
        },
        "src_commit_list": {
          "type": "array",
          "description": "The list of source repo commits in the interim",
          "items": {
            "type": "string"
          }
        },
        "oldest_commit": {
          "type": "string",
          "pattern": "^[a-f0-9]{40}$",
          "description": "The oldest commit"
        },
        "approvals": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "state",
              "comment",
              "approved_by",
              "approval_url"
            ],
            "properties": {
              "state": {
                "type": "string",
                "enum": [
                  "APPROVED",
                  "UNAPPROVED"
                ],
                "description": "The approval state"
              },
              "comment": {
                "type": "string",
                "description": "The description for the comment"
              },
              "approved_by": {
                "type": "string",
                "description": "The user who approved the deployment"
              },
              "approval_url": {
                "type": "string",
                "description": "URL to the source of the approval"
              }
            }
          }
        },
        "user_data": {
          "type": [
            "object",
            "array"
          ],
          "description": "Optional user data for the approval"
        }
      }
    },
    "GetApprovals": {
      "required": [
        "artifact_name",
        "base_artifact",
        "description",
        "release_number",
        "src_commit_list",
        "state",
        "target_artifact",
        "user_data"
      ],
      "properties": {
        "release_number": {
          "type": "integer",
          "description": "The approval number",
          "example": 1
        },
        "base_artifact": {
          "type": "string",
          "description": "The base artifact",
          "example": "084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc1"
        },
        "artifact_name": {
          "type": "string",
          "description": "The approval artifact name",
          "example": "web-server:v1.0.0"
        },
        "target_artifact": {
          "type": "string",
          "description": "The target artifact",
          "example": "084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc1"
        },
        "environment": {
          "type": "string",
          "description": "The target environment",
          "example": "example-environment-name"
        },
        "description": {
          "type": "string",
          "description": "Description for the approval",
          "example": "Approval for release of web-server:v1.0.0 to production"
        },
        "src_commit_list": {
          "type": "array",
          "description": "The list of source repo commits and associated artifact fingerprints",
          "example": [
            "e412ad6f7ea530ee9b83df964a0dde2b477be728",
            "e412ad6f7ea530ee9b83df964a0dde2b477be729"
          ],
          "items": {
            "type": "string"
          }
        },
        "created_at": {
          "type": "number",
          "description": "The timestamp of approval creation",
          "example": 1611840000.0
        },
        "last_modified_at": {
          "type": "number",
          "description": "The timestamp of approval last modification",
          "example": 1611840000.0
        },
        "state": {
          "type": "string",
          "description": "The approval state",
          "example": "APPROVED",
          "enum": [
            "APPROVED",
            "UNAPPROVED"
          ]
        },
        "approvals": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GetReview"
          }
        },
        "user_data": {
          "type": "object",
          "description": "Optional user data",
          "example": {}
        }
      },
      "type": "object"
    },
    "GetReview": {
      "required": [
        "approval_url",
        "approved_by",
        "comment",
        "state",
        "timestamp"
      ],
      "properties": {
        "state": {
          "type": "string",
          "description": "The approval state",
          "example": "APPROVED",
          "enum": [
            "APPROVED",
            "UNAPPROVED"
          ]
        },
        "comment": {
          "type": "string",
          "description": "The description for the comment",
          "example": "Looks good to me"
        },
        "approval_url": {
          "type": "string",
          "description": "URL to the source of the approval",
          "example": "https://my.approval.service/1234"
        },
        "approved_by": {
          "type": "string",
          "description": "The user who approved the deployment",
          "example": "meekrosoft"
        },
        "timestamp": {
          "type": "number",
          "description": "The timestamp of review creation",
          "example": 1611840000.0
        }
      },
      "type": "object"
    },
    "GetApproval": {
      "required": [
        "artifact_name",
        "base_artifact",
        "description",
        "release_number",
        "src_commit_list",
        "state",
        "target_artifact",
        "user_data"
      ],
      "properties": {
        "release_number": {
          "type": "integer",
          "description": "The approval number",
          "example": 1
        },
        "base_artifact": {
          "type": "string",
          "description": "The base artifact",
          "example": "084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc1"
        },
        "artifact_name": {
          "type": "string",
          "description": "The approval artifact name",
          "example": "web-server:v1.0.0"
        },
        "target_artifact": {
          "type": "string",
          "description": "The target artifact",
          "example": "084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc1"
        },
        "environment": {
          "type": "string",
          "description": "The target environment",
          "example": "example-environment-name"
        },
        "description": {
          "type": "string",
          "description": "Description for the approval",
          "example": "Approval for release of web-server:v1.0.0 to production"
        },
        "src_commit_list": {
          "type": "array",
          "description": "The list of source repo commits and associated artifact fingerprints",
          "items": {
            "$ref": "#/definitions/GetSrcCommitList"
          }
        },
        "created_at": {
          "type": "number",
          "description": "The timestamp of approval creation",
          "example": 1611840000.0
        },
        "last_modified_at": {
          "type": "number",
          "description": "The timestamp of approval last modification",
          "example": 1611840000.0
        },
        "state": {
          "type": "string",
          "description": "The approval state",
          "example": "APPROVED",
          "enum": [
            "APPROVED",
            "UNAPPROVED"
          ]
        },
        "approvals": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GetReview"
          }
        },
        "user_data": {
          "type": "object",
          "description": "Optional user data",
          "example": {
            "foo": "bar"
          }
        }
      },
      "type": "object"
    },
    "GetSrcCommitList": {
      "required": [
        "artifact_fingerprints",
        "commit_sha"
      ],
      "properties": {
        "commit_sha": {
          "type": "string",
          "description": "The commit sha",
          "example": "e412ad6f7ea530ee9b83df964a0dde2b477be728"
        },
        "artifact_fingerprints": {
          "type": "array",
          "description": "The list of artifact fingerprints",
          "example": [
            "084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc1"
          ],
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    },
    "ApprovalGetCommitOfRunningArtifact": {
      "required": [
        "commit_sha"
      ],
      "properties": {
        "commit_sha": {
          "type": "string",
          "description": "The git commit of a running artifact in a specific environment that comes from a given flow",
          "example": "e412ad6f7ea530ee9b83df964a0dde2b477be728"
        }
      },
      "type": "object"
    },
    "ArtifactCreate": {
      "type": "object",
      "additionalProperties": false,
      "anyOf": [
        {
          "required": [
            "fingerprint",
            "filename",
            "build_url",
            "commit_url",
            "git_commit"
          ]
        },
        {
          "required": [
            "fingerprint",
            "filename",
            "build_url",
            "commit_url",
            "git_commit_info"
          ]
        }
      ],
      "properties": {
        "trail_name": {
          "type": "string",
          "pattern": "^[a-zA-Z0-9][a-zA-Z0-9\\-_\\.~]*$",
          "description": "The user-defined Trail name"
        },
        "template_reference_name": {
          "type": "string",
          "pattern": "^[a-zA-Z0-9\\-_]+$",
          "description": "The reference name for the artifact in the Flow template."
        },
        "fingerprint": {
          "type": "string",
          "description": "The sha256 fingerprint of the artifact",
          "pattern": "^[a-f0-9]{64}$"
        },
        "filename": {
          "type": "string",
          "description": "The filename for the artifact"
        },
        "description": {
          "type": "string",
          "description": "The evidence recorded for this artifact"
        },
        "git_commit": {
          "type": "string",
          "description": "The commit recorded for this artifact",
          "pattern": "^[a-f0-9]{40}$"
        },
        "git_commit_info": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "sha1",
            "message",
            "author",
            "timestamp",
            "branch"
          ],
          "properties": {
            "sha1": {
              "type": "string",
              "pattern": "^[a-f0-9]{40}$"
            },
            "message": {
              "type": "string"
            },
            "author": {
              "type": "string"
            },
            "timestamp": {
              "type": "number"
            },
            "branch": {
              "type": "string"
            },
            "url": {
              "type": "string"
            }
          }
        },
        "commits_list": {
          "type": "array",
          "description": "[deprecated] The commits list recorded for this artifact",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "sha1",
              "message",
              "author",
              "timestamp",
              "branch"
            ],
            "properties": {
              "sha1": {
                "type": "string",
                "pattern": "^[a-f0-9]{40}$"
              },
              "message": {
                "type": "string"
              },
              "author": {
                "type": "string"
              },
              "timestamp": {
                "type": "number"
              },
              "branch": {
                "type": "string"
              },
              "parents": {
                "type": "array",
                "description": "Commit SHAs for all parent commits",
                "items": {
                  "type": "string",
                  "pattern": "^[a-f0-9]{40}$"
                }
              }
            }
          }
        },
        "repo_url": {
          "type": "string",
          "description": "The URL of the git repo"
        },
        "is_compliant": {
          "type": "boolean",
          "description": "The compliance state of the artifact"
        },
        "build_url": {
          "type": "string",
          "description": "The build URL for this artifact"
        },
        "commit_url": {
          "type": "string",
          "description": "The commit URL for this artifact"
        },
        "template": {
          "type": "array",
          "description": "A list of expected evidence for artifact",
          "example": [
            "unit-test",
            "snyk-scan"
          ],
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z][a-zA-Z0-9\\-_]*$"
          }
        },
        "external_urls": {
          "type": "object",
          "description": "Map of named URLs for any external reference or attachment related to this artifact. External attachment URLs can optionally have a fingerprint of the attachment",
          "patternProperties": {
            "^[^=.]+$": {
              "type": "object",
              "properties": {
                "href": {
                  "type": "string"
                },
                "fingerprint": {
                  "type": "string",
                  "pattern": "^[a-f0-9]{64}$"
                }
              },
              "required": [
                "href"
              ]
            }
          },
          "additionalProperties": false
        },
        "annotations": {
          "type": "object",
          "description": "Optional map of key-value pairs to attach to this attestation",
          "patternProperties": {
            "^[A-Za-z0-9_]+$": {
              "type": "string"
            }
          },
          "additionalProperties": false
        },
        "user_data": {
          "type": [
            "object",
            "array"
          ],
          "description": "Optional user data for this artifact"
        }
      }
    },
    "ArtifactsList": {
      "allOf": [
        {
          "$ref": "#/definitions/ArtifactCommon"
        },
        {
          "required": [
            "releases"
          ],
          "properties": {
            "releases": {
              "type": "array",
              "description": "The list of approvals for this artifact",
              "default": [],
              "example": [
                1,
                2,
                3
              ],
              "items": {
                "type": "integer"
              }
            }
          },
          "type": "object"
        }
      ]
    },
    "ArtifactCommon": {
      "required": [
        "build_url",
        "commit_url",
        "created_at",
        "deployments",
        "evidence",
        "filename",
        "fingerprint",
        "id",
        "last_modified_at"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "The globally unique identifier for an artifact",
          "example": "bd11e052-db53-4dea-927b-7ac6bf2f"
        },
        "trail_name": {
          "type": "string",
          "description": "The name of the trail",
          "example": "trail-name"
        },
        "template_reference_name": {
          "type": "string",
          "description": "The name of the artifact in the flow template",
          "example": "reference-name"
        },
        "fingerprint": {
          "type": "string",
          "description": "The fingerprint of the artifact",
          "example": "222ef0e34431258b74321d73458c73f05d851fa6b25158fa7becfff2759fc37e"
        },
        "filename": {
          "type": "string",
          "description": "The filename of the artifact",
          "example": "application.exe"
        },
        "git_commit": {
          "type": "string",
          "description": "The git commit of the artifact",
          "example": "cc227b467098a6192ea0116b601ee05d56e6a94c"
        },
        "git_commit_info": {
          "type": "object",
          "description": "The git commit info of the artifact",
          "example": {
            "sha1": "cc227b467098a6192ea0116b601ee05d56e6a94c",
            "message": "commit message",
            "author": "foo@bar.com",
            "branch": "main",
            "url": "https://example.com/commit/cc227b467098a6192ea0116b601ee05d56e6a94c",
            "timestamp": 1701421778
          }
        },
        "template": {
          "type": "array",
          "description": "Artifact required evidence template",
          "example": [
            "unit-test",
            "static-analysis"
          ],
          "items": {
            "type": "string"
          }
        },
        "commit_url": {
          "type": "string",
          "description": "The commit url of the artifact",
          "example": "https://github.com/ORG-NAME/REPO-NAME/commit/11b822ba25706e772c7ca63cbb0ef84331757df8"
        },
        "build_url": {
          "type": "string",
          "description": "The build url of the artifact",
          "example": "https://ci.example.com/build/123"
        },
        "repo_url": {
          "type": "string",
          "description": "The repo url of the artifact",
          "example": "https://github.com/ORG-NAME/REPO-NAME"
        },
        "html_url": {
          "type": "string",
          "description": "The web URL of the artifact",
          "example": "https://app.merkely.com/ORG-NAME/flows/FLOW-NAME/artifacts/222ef0e34431258b74321d73458c73f05d851fa6b25158fa7becfff2759fc37e"
        },
        "api_url": {
          "type": "string",
          "description": "The API URL of the artifact",
          "example": "https://app.merkely.com/api/v2/artifacts/ORG-NAME/FLOW-NAME/fingerprint/222ef0e34431258b74321d73458c73f05d851fa6b25158fa7becfff2759fc37e"
        },
        "created_at": {
          "type": "string",
          "description": "The timestamp of artifact creation",
          "example": "1696512673.101812"
        },
        "last_modified_at": {
          "type": "string",
          "description": "The timestamp when artifact was last modified",
          "example": "1696512891.1067708"
        },
        "user_data": {
          "type": "object",
          "description": "User data for artifact",
          "example": {
            "key": "value"
          }
        },
        "external_urls": {
          "type": "object",
          "description": "external reference or attachment urls",
          "default": {},
          "example": {
            "external": {
              "href": "https://example.com"
            }
          }
        },
        "annotations": {
          "type": "object",
          "description": "Annotations, key-value pairs, for the artifact",
          "default": {},
          "example": {
            "external": {
              "foo": "bar"
            }
          }
        },
        "state": {
          "type": "string",
          "description": "The state of the artifact",
          "example": "NON-COMPLIANT"
        },
        "deployments": {
          "type": "array",
          "description": "The list of deployments for this artifact",
          "default": [],
          "example": [
            1,
            2,
            3
          ],
          "items": {
            "type": "integer"
          }
        },
        "evidence": {
          "default": {},
          "$ref": "#/definitions/artifactEvidenceWildcard"
        }
      },
      "type": "object"
    },
    "artifactEvidenceWildcard": {
      "properties": {
        "*": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ArtifactEvidence"
          }
        }
      },
      "type": "object"
    },
    "ArtifactEvidence": {
      "required": [
        "build_url",
        "created_at",
        "evidence_type",
        "has_audit_package",
        "is_compliant"
      ],
      "properties": {
        "evidence_type": {
          "type": "string",
          "description": "The type of evidence"
        },
        "is_compliant": {
          "type": "boolean",
          "description": "The compliance state of the evidence"
        },
        "build_url": {
          "type": "string",
          "description": "The build url of the evidence"
        },
        "evidence_archive_fingerprint": {
          "type": "string",
          "description": "The fingerprint of the evidence archive"
        },
        "user_data": {
          "type": "object",
          "description": "User data for evidence"
        },
        "created_at": {
          "type": "string",
          "description": "The timestamp of evidence creation"
        },
        "description": {
          "type": "string",
          "description": "Description for the evidence"
        },
        "has_audit_package": {
          "type": "boolean",
          "description": "Whether the evidence has audit package"
        },
        "evidence_url": {
          "type": "string",
          "description": "The URL of the evidence, if it is stored externally"
        },
        "evidence_fingerprint": {
          "type": "string",
          "description": "The fingerprint of the evidence provided by the user"
        },
        "commit_sha": {
          "type": "string",
          "description": "Commit sha to which evidence has been reported"
        },
        "snyk_results": {
          "type": "object",
          "description": "Snyk results for evidence of type 'snyk'"
        },
        "junit_results": {
          "type": "object",
          "description": "Junit results for evidence of type 'junit'"
        },
        "jira_results": {
          "type": "object",
          "description": "Jira results for evidence of type 'jira'"
        },
        "git_provider": {
          "type": "string",
          "description": "The git provider for evidence of type 'pull_request'"
        },
        "pull_requests": {
          "type": "array",
          "description": "The pull requests for evidence of type 'pull_request'",
          "items": {
            "type": "object"
          }
        }
      },
      "type": "object"
    },
    "Artifact": {
      "allOf": [
        {
          "$ref": "#/definitions/ArtifactCommon"
        },
        {
          "required": [
            "build_lead_times",
            "commit_lead_times",
            "flow_name"
          ],
          "properties": {
            "flow_name": {
              "type": "string",
              "description": "The name of the flow",
              "example": "flow-name"
            },
            "state_info": {
              "type": "string",
              "description": "Information about non-compliant or incomplete artifact",
              "example": "Failed evidence: unit-test"
            },
            "approvals": {
              "type": "array",
              "description": "The list of approvals for this artifact",
              "default": [],
              "example": [
                1,
                2,
                3
              ],
              "items": {
                "type": "integer"
              }
            },
            "running": {
              "type": "array",
              "description": "The list of environments where artifact is currently running",
              "default": [],
              "example": [
                {
                  "environment_name": "production",
                  "snapshot_index": 30
                }
              ],
              "items": {
                "type": "object"
              }
            },
            "exited": {
              "type": "array",
              "description": "The list of environments where artifact is no longer running",
              "default": [],
              "example": [
                {
                  "environment_name": "staging",
                  "snapshot_index": 50
                }
              ],
              "items": {
                "type": "object"
              }
            },
            "history": {
              "type": "array",
              "description": "The combined flow+environment history for this artifact",
              "default": [],
              "example": [
                {
                  "event": "Commit 710dd29",
                  "type": "commit",
                  "timestamp": 1696510593
                },
                {
                  "event": "Artifact created",
                  "type": "artifact",
                  "timestamp": 1696510749.335257
                },
                {
                  "event": "Received unit-test evidence",
                  "type": "evidence",
                  "timestamp": 1696510798.288321
                }
              ],
              "items": {
                "type": "object"
              }
            },
            "commit_lead_times": {
              "type": "object",
              "description": "The commit lead times for all environments it was deployed to",
              "example": {
                "production": 1021,
                "staging": 988
              }
            },
            "build_lead_times": {
              "type": "object",
              "description": "The build lead times for all environments it was deployed to",
              "example": {
                "production": 1021,
                "staging": 988
              }
            }
          },
          "type": "object"
        }
      ]
    },
    "ArtifactApprovalsGet": {
      "required": [
        "artifact_name",
        "base_artifact",
        "description",
        "release_number",
        "src_commit_list",
        "state",
        "target_artifact",
        "user_data"
      ],
      "properties": {
        "base_artifact": {
          "type": "string",
          "description": "The base artifact",
          "example": "2d0ff2b11395623db004d3409d9ce70b8cbd9c693c3c5ae6be41ab54cd109dca"
        },
        "target_artifact": {
          "type": "string",
          "description": "The target artifact",
          "example": "2d0ff2b11395623db004d3409d9ce70b8cbd9c693c3c5ae6be41ab54cd109dca"
        },
        "artifact_name": {
          "type": "string",
          "description": "The approval artifact name",
          "example": "web-server:v1.0.0"
        },
        "environment": {
          "type": "string",
          "description": "The target environment",
          "example": "example-environment-name"
        },
        "description": {
          "type": "string",
          "description": "Description for the approval",
          "example": "Approval for production deployment"
        },
        "src_commit_list": {
          "type": "array",
          "description": "The list of source repo commits and associated artifact fingerprints",
          "example": [
            "54527b467098a6192ea0116b601ee05d56e6a111"
          ],
          "items": {
            "type": "string"
          }
        },
        "release_number": {
          "type": "integer",
          "description": "The approval number",
          "example": 2
        },
        "created_at": {
          "type": "number",
          "description": "The timestamp of approval creation",
          "example": 1664974521.0
        },
        "approvals": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GetReview"
          }
        },
        "state": {
          "type": "string",
          "description": "The approval state",
          "example": "APPROVED",
          "enum": [
            "APPROVED",
            "UNAPPROVED"
          ]
        },
        "user_data": {
          "type": "object",
          "description": "Optional user data",
          "example": {
            "key": "value"
          }
        },
        "last_modified_at": {
          "type": "number",
          "description": "The timestamp of approval last modification",
          "example": 1664974521.0
        }
      },
      "type": "object"
    },
    "ArtifactDeploymentGet": {
      "required": [
        "artifact_fingerprint",
        "build_url",
        "created_at",
        "deployment_id",
        "description",
        "environment",
        "last_modified_at",
        "running_state"
      ],
      "properties": {
        "deployment_id": {
          "type": "integer",
          "description": "The deployment identifier",
          "example": 2
        },
        "created_at": {
          "type": "number",
          "description": "The timestamp of deployment creation",
          "example": 1664974521.0
        },
        "last_modified_at": {
          "type": "number",
          "description": "The timestamp of deployment last modification",
          "example": 1664974521.0
        },
        "running_state": {
          "type": "object",
          "description": "The state of artifact in runtime environment",
          "example": {
            "state": "exited",
            "timestamp": 1696513153.056497
          }
        },
        "artifact_fingerprint": {
          "type": "string",
          "description": "The artifact that is deployed",
          "example": "2d0ff2b11395623db004d3409d9ce70b8cbd9c693c3c5ae6be41ab54cd109dca"
        },
        "environment": {
          "type": "string",
          "description": "The environment the artifact is deployed to",
          "example": "production"
        },
        "description": {
          "type": "string",
          "description": "Description for the deployment",
          "example": "Deployment to production done by John Doe"
        },
        "build_url": {
          "type": "string",
          "description": "CI build URL of the deployment",
          "example": "https://ci.example.com/build/123"
        },
        "user_data": {
          "type": "object",
          "description": "Optional user data for the deployment",
          "example": {
            "key": "value"
          }
        }
      },
      "type": "object"
    },
    "ArtifactLatestCommitGet": {
      "required": [
        "latest_commit"
      ],
      "properties": {
        "latest_commit": {
          "type": "string",
          "description": "The latest commit sha. If no commit is found, null is returned",
          "example": "cc227b467098a6192ea0116b601ee05d56e6a94c"
        }
      },
      "type": "object"
    },
    "CreateDeployment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifact_fingerprint",
        "environment",
        "description",
        "build_url"
      ],
      "properties": {
        "artifact_fingerprint": {
          "type": "string",
          "description": "The sha256 fingerprint of the artifact",
          "pattern": "^[a-f0-9]{64}$"
        },
        "environment": {
          "type": "string",
          "description": "The environment the artifact is deployed to"
        },
        "description": {
          "type": "string",
          "description": "Description for the deployment"
        },
        "build_url": {
          "type": "string",
          "description": "CI build URL of the deployment"
        },
        "user_data": {
          "type": [
            "object",
            "array"
          ],
          "description": "Optional user data for the deployment"
        }
      }
    },
    "Deployment": {
      "required": [
        "artifact_fingerprint",
        "artifact_name",
        "build_url",
        "created_at",
        "deployment_id",
        "description",
        "environment",
        "last_modified_at",
        "running_state"
      ],
      "properties": {
        "deployment_id": {
          "type": "integer",
          "description": "The deployment identifier",
          "example": 1
        },
        "artifact_name": {
          "type": "string",
          "description": "The name of artifact that is deployed",
          "example": "my-artifact:1.0.0"
        },
        "created_at": {
          "type": "number",
          "description": "The timestamp of deployment creation",
          "example": 1610503429.0
        },
        "last_modified_at": {
          "type": "number",
          "description": "The timestamp of deployment last modification",
          "example": 1610503429.0
        },
        "running_state": {
          "type": "object",
          "description": "The state of artifact in runtime environment",
          "example": {
            "state": "exited",
            "timestamp": 1610903429.056497
          }
        },
        "artifact_fingerprint": {
          "type": "string",
          "description": "The artifact that is deployed",
          "example": "2d0ff2b11395623db004d3409d9ce70b8cbd9c693c3c5ae6be41ab54cd109dca"
        },
        "environment": {
          "type": "string",
          "description": "The environment the artifact is deployed to",
          "example": "production"
        },
        "description": {
          "type": "string",
          "description": "Description for the deployment",
          "example": "This is a deployment of my-artifact:1.0.0 to production"
        },
        "build_url": {
          "type": "string",
          "description": "CI build URL of the deployment",
          "example": "https://ci.example.com/builds/1234"
        },
        "user_data": {
          "type": "object",
          "description": "Optional user data for the deployment",
          "example": {}
        }
      },
      "type": "object"
    },
    "CreateEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "name",
        "type",
        "description"
      ],
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[a-zA-Z0-9][a-zA-Z0-9\\.\\-_]*$",
          "description": "Name for the environment"
        },
        "type": {
          "type": "string",
          "enum": [
            "K8S",
            "ECS",
            "S3",
            "lambda",
            "server",
            "docker",
            "azure-apps",
            "logical"
          ],
          "description": "Type of the report source infrastructure"
        },
        "description": {
          "type": "string",
          "description": "Description for the environment"
        },
        "include_scaling": {
          "type": "boolean",
          "description": "Include scaling events"
        },
        "require_provenance": {
          "type": "boolean",
          "description": "Require all artifacts (except the allow-listed ones) to have provenance"
        },
        "included_environments": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "policies": {
          "type": "array",
          "items": {
            "type": "string",
            "description": "environment policy name"
          }
        }
      }
    },
    "GetEnvironment": {
      "required": [
        "description",
        "include_scaling",
        "last_modified_at",
        "last_reported_at",
        "name",
        "org",
        "policies",
        "state",
        "tags",
        "type"
      ],
      "properties": {
        "org": {
          "type": "string",
          "description": "Organization which owns the environment"
        },
        "name": {
          "type": "string",
          "description": "Name for the environment"
        },
        "type": {
          "type": "string",
          "description": "Type of the report source infrastructure"
        },
        "description": {
          "type": "string",
          "description": "Description for the environment"
        },
        "last_modified_at": {
          "type": "number",
          "description": "Last report modification timestamp"
        },
        "last_reported_at": {
          "type": "number",
          "description": "Last report received timestamp"
        },
        "state": {
          "type": "boolean",
          "description": "Compliance state of the environment"
        },
        "include_scaling": {
          "type": "boolean",
          "description": "If the environment record scaling events"
        },
        "tags": {
          "type": "object",
          "description": "User-defined tags for the environment"
        },
        "policies": {
          "type": "array",
          "description": "List of attached policies to the environment",
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    },
    "AttachPolicies": {
      "required": [
        "policy_names"
      ],
      "properties": {
        "policy_names": {
          "type": "array",
          "description": "List of policy names to attach/detach",
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    },
    "ReportK8SEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "podName",
              "namespace",
              "digests",
              "creationTimestamp"
            ],
            "properties": {
              "podName": {
                "type": "string",
                "description": "Name of pod"
              },
              "namespace": {
                "type": "string",
                "description": "Namespace of cluster"
              },
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the pod in UTC"
              },
              "owners": {
                "type": [
                  "array",
                  "null"
                ],
                "items": {
                  "type": "object",
                  "additionalProperties": true,
                  "required": [
                    "apiVersion",
                    "kind",
                    "name",
                    "uid"
                  ],
                  "properties": {
                    "apiVersion": {
                      "type": "string"
                    },
                    "kind": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "uid": {
                      "type": "string",
                      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
                    },
                    "controller": {
                      "type": "boolean"
                    },
                    "blockOwnerDeletion": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "ReportServerEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "digests",
              "creationTimestamp"
            ],
            "properties": {
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the pod in UTC"
              }
            }
          }
        }
      }
    },
    "ReportECSEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "digests",
              "taskArn",
              "creationTimestamp"
            ],
            "properties": {
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$|^$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "taskArn": {
                "type": "string",
                "description": "Artifact task ARN"
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the pod in UTC"
              }
            }
          }
        }
      }
    },
    "ReportS3Environment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "digests",
              "creationTimestamp"
            ],
            "properties": {
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the pod in UTC"
              }
            }
          }
        }
      }
    },
    "ReportLambdaEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "digests",
              "creationTimestamp"
            ],
            "properties": {
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the pod in UTC"
              }
            }
          }
        }
      }
    },
    "ReportDockerEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "digests",
              "creationTimestamp"
            ],
            "properties": {
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the pod in UTC"
              }
            }
          }
        }
      }
    },
    "ReportAzureWebAppEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Json payload",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "digests",
              "app_name",
              "app_kind",
              "creationTimestamp",
              "digests_source"
            ],
            "properties": {
              "digests": {
                "type": "object",
                "description": "Image name",
                "patternProperties": {
                  "^.*$": {
                    "type": "string",
                    "pattern": "^[a-f0-9]{64}$|^$",
                    "description": "sha256 fingerprint of the image"
                  }
                }
              },
              "digests_source": {
                "type": "string",
                "enum": [
                  "acr",
                  "logs",
                  "kosli-cli"
                ],
                "description": "Source of the digests. Valid values are  ['acr', 'logs', 'kosli-cli']"
              },
              "app_name": {
                "type": "string",
                "description": "Azure Web/Function app name"
              },
              "app_kind": {
                "type": "string",
                "description": "Azure app kind"
              },
              "creationTimestamp": {
                "type": "integer",
                "description": "Creation time stamp for the Web app in UTC"
              }
            }
          }
        }
      }
    },
    "EnvironmentEventsLog": {
      "required": [
        "flows"
      ],
      "properties": {
        "environment_name": {
          "type": "string",
          "description": "Name for the environment"
        },
        "snapshot_index": {
          "type": "integer",
          "description": "Snapshot index number"
        },
        "artifact_name": {
          "type": "string",
          "description": "Artifact name"
        },
        "sha256": {
          "type": "string",
          "description": "Artifact fingerprint"
        },
        "description": {
          "type": "string",
          "description": "Event description"
        },
        "reported_at": {
          "type": "number",
          "description": "Event timestamp"
        },
        "pipeline": {
          "type": "string",
          "description": "Pipeline name"
        },
        "deployments": {
          "type": "array",
          "description": "List of deployment ids for the artifact",
          "items": {
            "type": "integer"
          }
        },
        "flows": {
          "type": "array",
          "description": "The list of flows in which the artifact was reported",
          "items": {
            "$ref": "#/definitions/FlowsInSnapshotEvents"
          }
        }
      },
      "type": "object"
    },
    "FlowsInSnapshotEvents": {
      "required": [
        "flow_name"
      ],
      "properties": {
        "flow_name": {
          "type": "string",
          "description": "The name of the flow to which the artifact belongs"
        },
        "deployments": {
          "type": "array",
          "description": "List of deployment ids for the artifact",
          "items": {
            "type": "integer"
          }
        }
      },
      "type": "object"
    },
    "RenameEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "new_name"
      ],
      "properties": {
        "new_name": {
          "type": "string",
          "description": "New environment name"
        }
      }
    },
    "AddPhysicalToLogicalEnvironment": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "physical_env_name"
      ],
      "properties": {
        "physical_env_name": {
          "type": "string",
          "description": "Physical environment name"
        }
      }
    },
    "EnvironmentDiffGetModel": {
      "properties": {
        "snappish1": {
          "$ref": "#/definitions/DiffInSnapshotApiModel"
        },
        "snappish2": {
          "$ref": "#/definitions/DiffInSnapshotApiModel"
        },
        "changed": {
          "$ref": "#/definitions/ArtifactsInEnvDiff"
        },
        "not-changed": {
          "$ref": "#/definitions/ArtifactsInEnvDiff"
        }
      },
      "type": "object"
    },
    "DiffInSnapshotApiModel": {
      "required": [
        "artifacts",
        "snapshot_id"
      ],
      "properties": {
        "snapshot_id": {
          "type": "string",
          "description": "Snapshot id of the snapshot.",
          "example": "5"
        },
        "artifacts": {
          "type": "array",
          "description": "Artifacts that matched the search value.",
          "items": {
            "$ref": "#/definitions/ArtifactEnvDiffEntry"
          }
        }
      },
      "type": "object"
    },
    "ArtifactEnvDiffEntry": {
      "required": [
        "commit_url",
        "fingerprint",
        "flow",
        "most_recent_timestamp",
        "name"
      ],
      "properties": {
        "fingerprint": {
          "type": "string",
          "description": "Fingerprint of the artifact.",
          "example": "2d0ff2b11395623db004d3409d9ce70b8cbd9c693c3c5ae6be41ab54cd109dca"
        },
        "name": {
          "type": "string",
          "description": "Name of the artifact.",
          "example": "my-app"
        },
        "most_recent_timestamp": {
          "type": "integer",
          "description": "Timestamp of the most recent artifact replica start in the snapshot.",
          "example": 1664974521
        },
        "flow": {
          "type": "string",
          "description": "Name of the flow to which artifact belongs to.",
          "example": "my-flow"
        },
        "commit_url": {
          "type": "string",
          "description": "Url to the commit.",
          "example": "www.github.com/..."
        },
        "s1_instance_count": {
          "type": "integer",
          "description": "Instance count in snapshot 1.",
          "example": 1
        },
        "s2_instance_count": {
          "type": "integer",
          "description": "Instance count in snapshot 2.",
          "example": 2
        },
        "instance_count": {
          "type": "integer",
          "description": "Instance count in both snapshots.",
          "example": 1
        },
        "s1_pod_names": {
          "type": "array",
          "description": "Pod names in snapshot 1.",
          "items": {
            "type": "string"
          }
        },
        "s2_pod_names": {
          "type": "array",
          "description": "Pod names in snapshot 2.",
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    },
    "ArtifactsInEnvDiff": {
      "required": [
        "artifacts"
      ],
      "properties": {
        "artifacts": {
          "type": "array",
          "description": "Artifacts that matched the search value.",
          "items": {
            "$ref": "#/definitions/ArtifactEnvDiffEntry"
          }
        }
      },
      "type": "object"
    },
    "FlowDeclare": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "name",
        "description",
        "visibility",
        "template"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the flow",
          "pattern": "^[a-zA-Z0-9][a-zA-Z0-9\\.\\-_~]*$"
        },
        "description": {
          "type": "string",
          "description": "Description for the flow"
        },
        "visibility": {
          "type": "string",
          "description": "Visibility of the flow dashboard",
          "enum": [
            "private",
            "public"
          ]
        },
        "template": {
          "type": "array",
          "description": "A list of expected evidence for artifacts",
          "example": [
            "unit-test",
            "snyk-scan"
          ],
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z][a-zA-Z0-9\\-_]*$"
          }
        },
        "repo_url": {
          "type": "string",
          "description": "The URL of the git repo"
        }
      }
    },
    "Flow": {
      "required": [
        "description",
        "name",
        "org",
        "tags",
        "template",
        "visibility"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the flow",
          "example": "web-server"
        },
        "description": {
          "type": "string",
          "description": "Description for the flow",
          "example": "Web server flow"
        },
        "visibility": {
          "type": "string",
          "description": "Visibility of the flow dashboard",
          "example": "private",
          "enum": [
            "private",
            "public"
          ]
        },
        "org": {
          "type": "string",
          "description": "Organization which owns the flow",
          "example": "my-organization"
        },
        "template": {
          "type": "object",
          "description": "The expected attestations for trails and artifacts",
          "example": [
            "unit-test",
            "static-analysis",
            "integration-test"
          ]
        },
        "repo_url": {
          "type": "string",
          "description": "The URL of the git repo",
          "example": "https://github.com/kosli-dev/cli"
        },
        "tags": {
          "type": "object",
          "description": "User-defined tags for the flow"
        }
      },
      "type": "object"
    },
    "FlowGet": {
      "allOf": [
        {
          "$ref": "#/definitions/Flow"
        },
        {
          "required": [
            "last_deployment_at"
          ],
          "properties": {
            "last_deployment_at": {
              "type": "number",
              "description": "Timestamp of the last deployment in the flow",
              "example": 161089890.0
            }
          },
          "type": "object"
        }
      ]
    },
    "RenameFlow": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "new_name"
      ],
      "properties": {
        "new_name": {
          "type": "string",
          "description": "New flow name"
        }
      }
    },
    "OrgGetModel": {
      "required": [
        "created_at",
        "experimental_features_enabled",
        "last_modified_at",
        "name"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the organization"
        },
        "kind": {
          "type": "string",
          "description": "The kind of the organization"
        },
        "experimental_features_enabled": {
          "type": "boolean",
          "description": "Whether or not experimental features are enabled"
        },
        "created_at": {
          "type": "number",
          "description": "The time the organization was created"
        },
        "last_modified_at": {
          "type": "number",
          "description": "The time the organization was last modified"
        }
      },
      "type": "object"
    },
    "OrganizationUpdate": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "experimental_features_enabled"
      ],
      "properties": {
        "experimental_features_enabled": {
          "type": "boolean",
          "description": "Whether beta features are enabled or not"
        }
      }
    },
    "OrgEnvActionsModel": {
      "allOf": [
        {
          "$ref": "#/definitions/OrgCommonActionsModel"
        },
        {
          "required": [
            "environments"
          ],
          "properties": {
            "environments": {
              "type": "array",
              "description": "The environments the action is for",
              "items": {
                "type": "string"
              }
            }
          },
          "type": "object"
        }
      ]
    },
    "OrgCommonActionsModel": {
      "required": [
        "created_by",
        "is_created_from_slack_app",
        "last_failure_timestamp",
        "last_modified_at",
        "last_success_timestamp",
        "name",
        "number",
        "targets",
        "triggers",
        "type"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the action"
        },
        "type": {
          "type": "string",
          "description": "The type of the action"
        },
        "number": {
          "type": "integer",
          "description": "The ID number of the action"
        },
        "targets": {
          "type": "array",
          "description": "The targets of the action",
          "items": {
            "type": "object"
          }
        },
        "triggers": {
          "type": "array",
          "description": "The triggers of the action",
          "items": {
            "type": "string"
          }
        },
        "created_by": {
          "type": "string",
          "description": "The user who created the action"
        },
        "is_created_from_slack_app": {
          "type": "boolean",
          "description": "Whether or not the action was created from a slack app"
        },
        "is_failing": {
          "type": "boolean",
          "description": "Whether the action is currently failing to send notifications or not"
        },
        "last_success_timestamp": {
          "type": "number",
          "description": "The last timestamp when the action successfully sent a notification"
        },
        "last_failure_timestamp": {
          "type": "number",
          "description": "The last timestamp when the action failed to send notification failed"
        },
        "created_at": {
          "type": "number",
          "description": "The time the action was created"
        },
        "last_modified_at": {
          "type": "number",
          "description": "The time the action was last modified"
        }
      },
      "type": "object"
    },
    "SearchResultGetResponse": {
      "required": [
        "artifacts"
      ],
      "properties": {
        "resolved_to": {
          "$ref": "#/definitions/SearchResolvedApiModel"
        },
        "artifacts": {
          "type": "array",
          "description": "Artifacts that matched the search value.",
          "items": {
            "$ref": "#/definitions/SearchFoundArtifactsApiModel"
          }
        }
      },
      "type": "object"
    },
    "SearchResolvedApiModel": {
      "properties": {
        "type": {
          "type": "string",
          "description": "Type of found results. Either 'fingerprint', 'commit' or 'multiple."
        },
        "full_match": {
          "type": "string",
          "description": "Full match of search value if unique; otherwise arbitrary match from results."
        },
        "fingerprints": {
          "$ref": "#/definitions/SearchResolvedFingerprintsApiModel"
        },
        "commits": {
          "$ref": "#/definitions/SearchResolvedCommitsApiModel"
        }
      },
      "type": "object"
    },
    "SearchResolvedFingerprintsApiModel": {
      "properties": {
        "type": {
          "type": "string",
          "description": "Type of found results."
        },
        "count": {
          "type": "integer",
          "description": "Count of fingerprints that matched the search value."
        },
        "matches": {
          "type": "array",
          "description": "Fingerprints that matched the search value.",
          "example": [
            "1084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc"
          ],
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    },
    "SearchResolvedCommitsApiModel": {
      "properties": {
        "type": {
          "type": "string",
          "description": "Type of found results."
        },
        "count": {
          "type": "integer",
          "description": "Count of commits that matched the search value."
        },
        "matches": {
          "type": "array",
          "description": "Commits that matched the search value.",
          "example": [
            "e0ad84e1a2464a9486e777c1ecde162edff930a9"
          ],
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    },
    "SearchFoundArtifactsApiModel": {
      "required": [
        "api_url",
        "build_url",
        "commit_url",
        "compliance_state",
        "exited_from",
        "fingerprint",
        "flow",
        "git_commit",
        "has_provenance",
        "history",
        "html_url",
        "name",
        "pipeline",
        "running_in",
        "template_reference_name",
        "trail"
      ],
      "properties": {
        "fingerprint": {
          "type": "string",
          "description": "Fingerprint of found artifact.",
          "example": "1084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc"
        },
        "name": {
          "type": "string",
          "description": "Name of found artifact.",
          "example": "my-artifact.exe"
        },
        "has_provenance": {
          "type": "boolean",
          "description": "Whether the artifact has provenance.",
          "example": true
        },
        "git_commit": {
          "type": "string",
          "description": "Git commit of found artifact.",
          "example": "e0ad84e1a2464a9486e777c1ecde162edff930a9"
        },
        "pipeline": {
          "type": "string",
          "description": "This field is legacy, use flow instead.",
          "example": "my-flow"
        },
        "flow": {
          "type": "string",
          "description": "Flow name of found artifact.",
          "example": "my-flow"
        },
        "trail": {
          "type": "string",
          "description": "Trail of found artifact.",
          "example": "my-trail"
        },
        "template_reference_name": {
          "type": "string",
          "description": "Name of the artifact in the trail template.",
          "example": "backend"
        },
        "build_url": {
          "type": "string",
          "description": "Build url of found artifact.",
          "example": "https://my.build.service/1234"
        },
        "commit_url": {
          "type": "string",
          "description": "Commit url of found artifact.",
          "example": "https://my.commit.service/1234"
        },
        "compliance_state": {
          "type": "string",
          "description": "Compliance state of found artifact.",
          "example": "COMPLIANT"
        },
        "running_in": {
          "type": "array",
          "description": "Environments where the artifact is running.",
          "example": [
            "staging",
            "prod"
          ],
          "items": {
            "type": "string"
          }
        },
        "exited_from": {
          "type": "array",
          "description": "Environments where the artifact exited.",
          "example": [
            "dev"
          ],
          "items": {
            "type": "string"
          }
        },
        "html_url": {
          "type": "string",
          "description": "URL to web UI for found artifact.",
          "example": "https://app.kosli.com/my-flow/artifacts/1084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc"
        },
        "api_url": {
          "type": "string",
          "description": "URL to API for found artifact.",
          "example": "https://app.kosli.com/api/v2/artifacts/1084c799cd551dd1d8d5c5f9a5d593b2e931f5e36122ee5c793c1d08a19839cc"
        },
        "history": {
          "type": "array",
          "description": "History of found artifact.",
          "items": {
            "type": "object"
          }
        }
      },
      "type": "object"
    },
    "SnapshotsListGet": {
      "required": [
        "compliant",
        "duration",
        "from",
        "index",
        "to"
      ],
      "properties": {
        "index": {
          "type": "integer",
          "description": "The index of a snapshot"
        },
        "from": {
          "type": "number",
          "description": "The timestamp of a snapshot creation"
        },
        "to": {
          "type": "number",
          "description": "The timestamp of when the snapshot stopped"
        },
        "compliant": {
          "type": "boolean",
          "description": "Whether the snapshot is compliant"
        },
        "duration": {
          "type": "number",
          "description": "The duration of a snapshot"
        }
      },
      "type": "object"
    },
    "SnapshotGet": {
      "required": [
        "artifact_compliance_count",
        "artifacts",
        "compliant",
        "html_url",
        "index",
        "is_latest",
        "timestamp",
        "type"
      ],
      "properties": {
        "index": {
          "type": "integer",
          "description": "The index of the snapshot"
        },
        "is_latest": {
          "type": "boolean",
          "description": "True if this snapshot is the most recent"
        },
        "next_snapshot_timestamp": {
          "type": "number",
          "description": "The creation timestamp of the next snapshot"
        },
        "artifact_compliance_count": {
          "type": "object",
          "description": "The number of compliant and non-compliant artifacts in the snapshot"
        },
        "timestamp": {
          "type": "number",
          "description": "The timestamp of the snapshot creation"
        },
        "type": {
          "type": "string",
          "description": "The type of the environment"
        },
        "compliant": {
          "type": "boolean",
          "description": "Whether the snapshot is compliant"
        },
        "html_url": {
          "type": "string",
          "description": "The HTML URL to the snapshot"
        },
        "artifacts": {
          "type": "array",
          "description": "The list of artifacts in the snapshot",
          "items": {
            "$ref": "#/definitions/ArtifactInSnapshot"
          }
        },
        "applied_policies": {
          "type": "array",
          "description": "The list of policies applied to this snapshot",
          "items": {
            "type": "object"
          }
        }
      },
      "type": "object"
    },
    "ArtifactInSnapshot": {
      "required": [
        "annotation",
        "commit_lead_time",
        "commit_url",
        "compliant",
        "creationTimestamp",
        "deployment_diff",
        "deployments",
        "fingerprint",
        "flow_html_url",
        "flow_name",
        "flows",
        "git_commit",
        "html_url",
        "name",
        "reasons_for_incompliance"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of an artifact"
        },
        "deployments": {
          "type": "array",
          "description": "The list of deployments",
          "items": {
            "type": "integer"
          }
        },
        "compliant": {
          "type": "boolean",
          "description": "Whether the artifact is compliant in the snapshot"
        },
        "policy_decisions": {
          "type": "array",
          "description": "The list of compliance decisions made from the attached policies to the environment at the time of snapshot creation",
          "items": {
            "type": "object"
          }
        },
        "reasons_for_incompliance": {
          "type": "array",
          "description": "Deprecated: The list of reasons for non-compliance of an artifact",
          "items": {
            "type": "object"
          }
        },
        "fingerprint": {
          "type": "string",
          "description": "The fingerprint of an artifact"
        },
        "creationTimestamp": {
          "type": "array",
          "description": "The list of timestamp since when the artifacts is deployed",
          "items": {
            "type": "integer"
          }
        },
        "pods": {
          "type": "object",
          "description": "The list of K8S pods if env is of type K8S"
        },
        "annotation": {
          "type": "object",
          "description": "The annotation of the artifact"
        },
        "flow_name": {
          "type": "string",
          "description": "The name of the flow to which the artifact belongs"
        },
        "git_commit": {
          "type": "string",
          "description": "The git commit of the artifact"
        },
        "commit_url": {
          "type": "string",
          "description": "The URL to the git commit of the artifact"
        },
        "html_url": {
          "type": "string",
          "description": "The HTML URL to the artifact"
        },
        "flow_html_url": {
          "type": "string",
          "description": "The HTML URL to the flow to which the artifact belongs"
        },
        "deployment_diff": {
          "type": "object",
          "description": "The diff with previous deployment, including URL to commit diff"
        },
        "commit_lead_time": {
          "type": "number",
          "description": "The lead time of the commit"
        },
        "flows": {
          "type": "array",
          "description": "The list of flows in which the artifact was reported",
          "items": {
            "$ref": "#/definitions/FlowsInArtifactInSnapshot"
          }
        }
      },
      "type": "object"
    },
    "FlowsInArtifactInSnapshot": {
      "required": [
        "artifact_compliance_in_flow",
        "commit_lead_time",
        "commit_url",
        "deployment_diff",
        "flow_html_url",
        "flow_name",
        "flow_reasons_for_non_compliance",
        "git_commit",
        "html_url"
      ],
      "properties": {
        "flow_name": {
          "type": "string",
          "description": "The name of the flow to which the artifact belongs"
        },
        "trail_name": {
          "type": "string",
          "description": "The name of the trail to which the artifact belongs"
        },
        "template_reference_name": {
          "type": "string",
          "description": "The template_reference_name this artifact was reported with"
        },
        "git_commit": {
          "type": "string",
          "description": "The git commit of the artifact"
        },
        "commit_url": {
          "type": "string",
          "description": "The URL to the git commit of the artifact"
        },
        "git_commit_info": {
          "type": "object",
          "description": "The git commit info of the artifact",
          "example": {
            "sha1": "cc227b467098a6192ea0116b601ee05d56e6a94c",
            "message": "commit message",
            "author": "foo@bar.com",
            "branch": "main",
            "url": "https://example.com/commit/cc227b467098a6192ea0116b601ee05d56e6a94c",
            "timestamp": 1701421778
          }
        },
        "html_url": {
          "type": "string",
          "description": "The HTML URL to the artifact"
        },
        "flow_html_url": {
          "type": "string",
          "description": "The HTML URL to the flow to which the artifact belongs"
        },
        "deployment_diff": {
          "type": "object",
          "description": "The diff with previous deployment, including URL to commit diff"
        },
        "commit_lead_time": {
          "type": "number",
          "description": "The lead time of the commit"
        },
        "artifact_compliance_in_flow": {
          "type": "boolean",
          "description": "Whether the artifact is compliant in the flow"
        },
        "flow_reasons_for_non_compliance": {
          "type": "array",
          "description": "The list of reasons for non-compliance of an artifact in the flow",
          "items": {
            "type": "object"
          }
        }
      },
      "type": "object"
    },
    "Tag": {
      "properties": {
        "set_tags": {
          "type": "object",
          "description": "Dictionary of key-value tags to be added or updated",
          "example": {
            "key": "value"
          }
        },
        "remove_tags": {
          "type": "array",
          "description": "List of tag keys to be removed",
          "example": [
            "key1",
            "key2"
          ],
          "items": {
            "type": "string"
          }
        }
      },
      "type": "object"
    }
  },
  "responses": {
    "ParseError": {
      "description": "When a mask can't be parsed"
    },
    "MaskError": {
      "description": "When any error occurs on mask"
    }
  }
}